ethic_categories = {
	col = {}
	
	xen = {}
	
	mil = {}
	
	spi = {}
	
	hive = {}
}

ethic_fanatic_authoritarian = {
	cost = 2
	category = "col"
	category_value = 0
	
	use_for_pops = no
	
	regular_variant = ethic_authoritarian
	
	country_modifier = {
		country_resource_influence_add = 1
		pop_slave_resource_output = 0.10
	}
	
	tags = {
		ETHIC_ALLOWS_CASTE_SYSTEM
		ETHIC_ALLOWS_SLAVERY
		ETHIC_ONLY_AUTOCRACY
	}	
	
	random_weight = {
		value = 150
	}
}

ethic_authoritarian = {
	cost = 1
	category = "col"
	category_value = 1
	
	fanatic_variant = ethic_fanatic_authoritarian
	
	country_modifier = {
		country_resource_influence_add = 0.5
		pop_slave_resource_output = 0.05
	}	
	
	tags = {
		ETHIC_ALLOWS_CASTE_SYSTEM
		ETHIC_ALLOWS_SLAVERY
		ETHIC_NEVER_DEMOCRACY
	}	
	
	random_weight = {
		value = 100
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_AUTHORITARIAN_POS
		trigger = {
			OR = {
				has_ethic = ethic_authoritarian
				has_ethic = ethic_fanatic_authoritarian
			}
		}
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_FACTION_POS
		trigger = {
			NOR = {
				has_ethic = ethic_authoritarian
				has_ethic = ethic_fanatic_authoritarian
			}
			has_faction = totalitarian
		}		
	}

	pop_attraction_tag = {
		desc = POP_ATTRACTION_RULER_FACTION_POS
		trigger = {
			exists = ruler
			ruler = { leader_of_faction = totalitarian }
		}		
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_SLAVERY_POS
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					is_robot_pop = no
					is_enslaved = yes
				}
			}
		}
	}
	pop_attraction_tag = {
		desc = POP_ATTRACTION_CONSUMER_GOODS_NEG
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					OR = {
						has_living_standard = { type = living_standard_utopian }
						has_living_standard = { type = living_standard_good }
					}
				}
			}
		}
	}	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_AUTOCRATIC_GOV_POS
		trigger = {
			has_election_type = none
		}
	}
	pop_attraction_tag = {
		desc = POP_ATTRACTION_DEMOCRATIC_GOV_NEG
		trigger = {
			has_election_type = democratic
		}
	}

	pop_attraction_tag = {
		desc = POP_ATTRACTION_DECADENT_POS
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					has_trait = "trait_decadent"
				}
			}
		}
	}	
	
	country_attraction = {
		value = 1
		modifier = {
			factor = 0
			NOR = {
				is_country_type = default
				has_ethic = ethic_authoritarian
				has_ethic = ethic_fanatic_authoritarian
				AND = {
					is_country_type = primitive
					capital_scope = {
						has_observation_outpost = yes
						observation_outpost = {
							has_mission = native_indoctrination		
						}
						observation_outpost_owner = { 
							OR = {
								has_ethic = ethic_fanatic_authoritarian
								has_ethic = ethic_authoritarian
							}							
						}				
					}
				}				
			}
		}
		# Effects of indoctrination mission
		modifier = {
			factor = 10
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_fanatic_authoritarian }
			}
		}
		modifier = {
			factor = 5
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_authoritarian }
			}
		}	
		modifier = {
			factor = 1.75
			NOR = {
				has_ethic = ethic_authoritarian
				has_ethic = ethic_fanatic_authoritarian
			}
			has_faction = totalitarian	
		}	
		modifier = {
			factor = 1.5
			exists = ruler
			ruler = { leader_of_faction = totalitarian }				
		}
		modifier = {
			factor = 1.75
			has_ethic = ethic_authoritarian
		}
		modifier = {
			factor = 2.5
			has_ethic = ethic_fanatic_authoritarian
		}
		modifier = {
			factor = 1.25
			has_election_type = none
		}
		modifier = {
			factor = 0.75
			has_election_type = democratic
		}	
		modifier = {
			factor = 0.75
			is_country_type = default
			NOT = { has_global_flag = potent_rebellions_expanded_active }
			OR = {
				has_ethic = ethic_authoritarian
				has_ethic = ethic_fanatic_authoritarian
			}
			any_neighbor_country = {
				is_rival = prev
				
				relative_power = {
					who = prev
					category = fleet
					value = overwhelming
				}
			}
		}		
		modifier = {
			factor = 1.25
			is_country_type = default
			OR = {
				has_ethic = ethic_authoritarian
				has_ethic = ethic_fanatic_authoritarian
			}
			NOR = {
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = overwhelming
					}
				}
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = superior
					}
				}
			}
		}
		modifier = {
			factor = 1.25
			any_owned_planet = {
				has_modifier = cc_planet_oppression
			}
		}
	}

	# from = planet
	pop_attraction = {
		value = 1
		
		modifier = {
			factor = 0.8
			from = {
				unrest > 30
				owner = { has_ethic = ethic_authoritarian }
			}
		}
		modifier = {
			factor = 0.7
			from = {
				unrest > 30
				owner = { has_ethic = ethic_fanatic_authoritarian }
			}
		}
		modifier = {
			factor = 0
			has_trait = trait_hive_mind
		}	
#		modifier = {
#			factor = 0.5
#			from = {
#				has_modifier = cc_planet_oppression
#			}
#		}
		modifier = {
			factor = 0.33
			is_enslaved = yes
		}
		modifier = {
			factor = 1.25
			has_trait = "trait_decadent"
		}
		modifier = {
			factor = 1.2
			has_trait = "trait_robot_propaganda_machines"
		}
		modifier = {
			factor = 1.5
			is_enslaved = no
			from = {
				any_owned_pop = {
					OR = {
						is_same_species = root
						has_citizenship_rights = yes
					}
					is_robot_pop = no
					is_enslaved = yes
				}
			}
		}
		modifier = {
			factor = 1.25
			from = {
				any_owned_pop = {
					is_robot_pop = no
					is_enslaved = yes
					NOR = {
						is_same_species = root
						has_citizenship_rights = yes
					}
				}
			}
		}
		modifier = {
			factor = 1.5
			NOT = { has_modifier = cc_oppression }
			from = {
				any_owned_pop = {
					has_modifier = cc_oppression
				}
			}
		}
		modifier = {
			factor = 0.5
			has_modifier = cc_oppression
		}
		modifier = {
			factor = 1.5
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_authoritarian
						has_ethic = ethic_fanatic_authoritarian
					}
				}
				has_planet_flag = ccrebel_perf_authoritarians_1
			}
		}
		modifier = {
			factor = 1.35
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_authoritarian
						has_ethic = ethic_fanatic_authoritarian
					}
				}
				has_planet_flag = ccrebel_perf_authoritarians_2
			}
		}
		modifier = {
			factor = 1.25
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_authoritarian
						has_ethic = ethic_fanatic_authoritarian
					}
				}
				has_planet_flag = ccrebel_perf_authoritarians_3
			}
		}
		modifier = {
			factor = 0.75
			from.owner = {
				NOR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}
			OR = {
				has_living_standard = { type = living_standard_utopian }
				has_living_standard = { type = living_standard_good }
			}
		}	
		modifier = {
			factor = 1.25
			from.owner = {
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}
			OR = {
				has_living_standard = { type = living_standard_utopian }
				has_living_standard = { type = living_standard_good }
			}
		}
		modifier = {
			factor = 0.75
			has_modifier = pop_recently_conquered
			NOT = { has_ethic = ethic_authoritarian }
			from.owner = {
				OR = {
					has_ethic = ethic_authoritarian
					has_ethic = ethic_fanatic_authoritarian
				}
			}
		}
	}
}

ethic_fanatic_egalitarian = {
	cost = 2
	category = "col"
	category_value = 4
	
	category_opposite = yes
	
	regular_variant = ethic_egalitarian
	
	use_for_pops = no

	tags = {
		ETHIC_ONLY_DEMOCRACY
		ETHIC_ALLOW_UTOPIA
		ETHIC_DISALLOW_POVERTY
	}	
	
	country_modifier = {
		faction_influence_mult = 0.5
		pop_consumer_goods_mult = -0.2
	}
	
	random_weight = {
		value = 150
	}
}

ethic_egalitarian = {
	cost = 1
	category = "col"
	category_value = 3
	
	fanatic_variant = ethic_fanatic_egalitarian
	
	category_opposite = yes
	
	tags = {
		ETHIC_NEVER_AUTOCRACY
		ETHIC_ALLOW_UTOPIA
		ETHIC_DISALLOW_POVERTY
	}		
	
	country_modifier = {
		faction_influence_mult = 0.25
		pop_consumer_goods_mult = -0.1
	}

	random_weight = {
		value = 100
	}

	pop_attraction_tag = {
		desc = POP_ATTRACTION_EGALITARIAN_POS
		trigger = {
			OR = {
				has_ethic = ethic_egalitarian
				has_ethic = ethic_fanatic_egalitarian
			}
		}
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_FACTION_POS
		trigger = {
			NOR = {
				has_ethic = ethic_egalitarian
				has_ethic = ethic_fanatic_egalitarian
			}
			has_faction = progressive
		}		
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_RULER_FACTION_POS
		trigger = {
			exists = ruler
			ruler = { leader_of_faction = progressive }
		}		
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_CONSUMER_GOODS_POS
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					OR = {
						has_living_standard = { type = living_standard_utopian }
						has_living_standard = { type = living_standard_good }
					}
				}
			}
		}
	}

	pop_attraction_tag = {
		desc = POP_ATTRACTION_EGALITARIAN_DIPLOMACY_POS
		trigger = {
			any_relation = {
				OR = {
					AND = {
						is_subject = no
						has_migration_access = root
					}
					is_in_federation_with = root
					has_defensive_pact = root
				}
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}				
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_SLAVERY_POS
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					is_robot_pop = no
					is_enslaved = yes
				}
			}
		}
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_DEMOCRATIC_GOV_POS
		trigger = {
			has_election_type = democratic
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_AUTOCRATIC_GOV_NEG
		trigger = {
			has_election_type = none
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_DECADENT_NEG
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					has_trait = "trait_decadent"
				}
			}
		}
	}		
	
	country_attraction = {
		value = 1
		modifier = {
			factor = 0
			NOR = {
				is_country_type = default
				has_ethic = ethic_egalitarian
				has_ethic = ethic_fanatic_egalitarian
				AND = {
					is_country_type = primitive
					capital_scope = {
						has_observation_outpost = yes
						observation_outpost = {
							has_mission = native_indoctrination		
						}
						observation_outpost_owner = { 
							OR = {
								has_ethic = ethic_fanatic_egalitarian
								has_ethic = ethic_egalitarian
							}							
						}				
					}
				}				
			}
		}
		# Effects of indoctrination mission
		modifier = {
			factor = 10
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_fanatic_xenophile }
			}
		}
		modifier = {
			factor = 5
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_xenophile }
			}
		}	
		modifier = {
			factor = 1.75
			NOR = {
				has_ethic = ethic_egalitarian
				has_ethic = ethic_fanatic_egalitarian
			}
			has_faction = progressive	
		}	
		modifier = {
			factor = 1.5
			exists = ruler
			ruler = { leader_of_faction = progressive }				
		}		
		modifier = {
			factor = 1.75
			has_ethic = ethic_egalitarian
		}
		modifier = {
			factor = 2.5
			has_ethic = ethic_fanatic_egalitarian
		}
		modifier = {
			factor = 0.75
			is_country_type = default
			has_election_type = none
		}
		modifier = {
			factor = 1.25
			is_country_type = default
			has_election_type = democratic
		}
		modifier = {
			factor = 1.25
			any_relation = {
				OR = {
					is_in_federation_with = root
					has_defensive_pact = root
				}
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}				
			}
		}
		modifier = {
			factor = 1.25
			any_relation = {
				OR = {
					is_in_federation_with = root
					has_defensive_pact = root
				}
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
				root = {
					any_relation = {
						NOT = { is_same_value = prevprev }
						OR = {
							is_in_federation_with = root
							has_defensive_pact = root
						}
						OR = {
							has_ethic = ethic_egalitarian
							has_ethic = ethic_fanatic_egalitarian
						}
					}
				}
			}
		}
		modifier = {
			factor = 1.25
			any_relation = {
				OR = {
					is_in_federation_with = root
					has_defensive_pact = root
				}
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
				root = {
					any_relation = {
						NOT = { is_same_value = prevprev }
						OR = {
							is_in_federation_with = root
							has_defensive_pact = root
						}
						OR = {
							has_ethic = ethic_egalitarian
							has_ethic = ethic_fanatic_egalitarian
						}
						root = {
							any_relation = {
								NOR = {
									is_same_value = prevprev
									is_same_value = prevprevprevprev
								}
								OR = {
									is_in_federation_with = root
									has_defensive_pact = root
								}
								OR = {
									has_ethic = ethic_egalitarian
									has_ethic = ethic_fanatic_egalitarian
								}
							}
						}
					}
				}
			}
		}
		modifier = {
			factor = 1.25
			any_relation = {
				is_subject = no
				has_migration_access = root
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
		}	
		modifier = {
			factor = 0.75
			is_country_type = default
			NOT = { has_global_flag = potent_rebellions_expanded_active }
			OR = {
				has_ethic = ethic_egalitarian
				has_ethic = ethic_fanatic_egalitarian
			}
			any_neighbor_country = {
				is_rival = prev
				
				relative_power = {
					who = prev
					category = fleet
					value = overwhelming
				}
			}
		}		
		modifier = {
			factor = 1.25
			is_country_type = default
			OR = {
				has_ethic = ethic_egalitarian
				has_ethic = ethic_fanatic_egalitarian
			}
			NOR = {
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = overwhelming
					}
				}
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = superior
					}
				}
			}
		}	
	}
	
	# from = planet
	pop_attraction = {
		value = 1
		
		modifier = {
			factor = 0.8
			from = {
				unrest > 30
				owner = { has_ethic = ethic_egalitarian }
			}
		}
		modifier = {
			factor = 0.7
			from = {
				unrest > 30
				owner = { has_ethic = ethic_fanatic_egalitarian }
			}
		}
		modifier = {
			factor = 0
			has_trait = trait_hive_mind
		}
		modifier = {
			factor = 0.5
			has_trait = "trait_decadent"
		}		
		modifier = {
			factor = 1.5
			from.owner = {
				NOR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
			has_citizenship_rights = no	
		}		
		modifier = {
			factor = 4.0
			is_enslaved = yes
		}
#		modifier = {
#			factor = 1.5
#			is_enslaved = no
#			from = {
#				any_owned_pop = {
#					is_robot_pop = no
#					is_enslaved = yes
#				}
#			}
#		}	
		modifier = {
			factor = 1.25
			OR = {
				has_living_standard = { type = living_standard_utopian }
				has_living_standard = { type = living_standard_good }
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
			OR = {
				has_living_standard = { type = living_standard_utopian }
				has_living_standard = { type = living_standard_good }
			}
		}
		modifier = {
			factor = 1.5
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_egalitarian
						has_ethic = ethic_fanatic_egalitarian
					}
				}
				has_planet_flag = ccrebel_perf_egalitarians_1
			}
		}
		modifier = {
			factor = 1.35
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_egalitarian
						has_ethic = ethic_fanatic_egalitarian
					}
				}
				has_planet_flag = ccrebel_perf_egalitarians_2
			}
		}
		modifier = {
			factor = 1.25
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_egalitarian
						has_ethic = ethic_fanatic_egalitarian
					}
				}
				has_planet_flag = ccrebel_perf_egalitarians_3
			}
		}
		modifier = {
			factor = 0.75
			has_modifier = pop_recently_conquered
			NOT = { has_ethic = ethic_egalitarian }
			from.owner = {
				OR = {
					has_ethic = ethic_egalitarian
					has_ethic = ethic_fanatic_egalitarian
				}
			}
		}
	}	
}

ethic_fanatic_xenophobe = {
	cost = 2
	category = "xen"
	category_value = 0
	
	use_for_pops = no

	regular_variant = ethic_xenophobe
	
	tags = {
		ETHIC_ALLOWS_PURGE	
		ETHIC_ALLOWS_SLAVERY
		ETHIC_REDUCED_DIPLOMACY
		ETHIC_NEVER_ALIEN_CITIZENSHIP
		ETHIC_NEVER_ALIEN_MILITARY_SERVICE
		ETHIC_NO_REFUGEES
	}
	
	country_modifier = {		
		country_starbase_influence_cost_mult = -0.4
		country_claim_influence_cost_mult = -0.2
	}
	
	random_weight = {
		value = 150
	}
}

ethic_xenophobe = {
	cost = 1
	category = "xen"
	category_value = 1
	
	fanatic_variant = ethic_fanatic_xenophobe
	
	tags = {
		ETHIC_ALLOWS_PURGE	
		ETHIC_ALLOWS_SLAVERY
		ETHIC_REDUCED_DIPLOMACY
		ETHIC_NEVER_ALIEN_CITIZENSHIP
		ETHIC_NEVER_ALIEN_MILITARY_SERVICE
		ETHIC_NO_REFUGEES
	}	
	
	country_modifier = {
		country_starbase_influence_cost_mult = -0.2
		country_claim_influence_cost_mult = -0.1
	}
	
	random_weight = {
		value = 100
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_XENOPHOBE_POS
		trigger = {
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
		}
	}

	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_FACTION_POS
		trigger = {
			NOR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
			OR = {
				has_faction = supremacist
				has_faction = isolationist
			}		
		}		
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_FANATIC_PURIFIERS_POS
		trigger = {
			has_valid_civic = civic_fanatic_purifiers
		}
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_INWARDS_PERFECTION_POS
		trigger = {
			has_valid_civic = civic_inwards_perfection
		}
	}		
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_RULER_FACTION_POS
		trigger = {
			exists = ruler
			ruler = { 
				OR = {
					leader_of_faction = supremacist
					leader_of_faction = isolationist
				}			
			}
		}		
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_DEFENSIVE_XENO_WAR_POS
		trigger = {
			any_war = {
				any_defender = {
					is_same_value = prevprev
				}
				any_attacker = {
					NOT = { is_same_species = root }
				}
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_REPUGNANT_POS
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					NOT = { has_trait = "trait_repugnant" }
					is_non_sapient_robot = no
				}			
				any_owned_pop = {
					has_trait = "trait_repugnant"
				}
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_XENO_SLAVES_POS
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					not = { is_same_species = root }
					is_robot_pop = no
					is_enslaved = yes
				}
			}
		}
	}

	pop_attraction_tag = {
		desc = POP_ATTRACTION_ENSLAVEMENT_OF_SPECIES_POS
		trigger = {
			any_relation = {
				NOT = { is_same_species = root }
				any_owned_pop = {
					is_enslaved = yes
					is_robot_pop = no
					is_same_species = root
				}
			}
		}
	}		

	pop_attraction_tag = {
		desc = POP_ATTRACTION_PURGING_OF_SPECIES_POS
		trigger = {
			any_relation = {
				has_opinion_modifier = { 
					who = root 
					modifier = opinion_genocidal_our_species 
				} 
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_XENO_LEADERS_NEG
		trigger = {
			allows_alien_leaders = yes
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_FREE_XENOS_NEG
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					not = { is_same_species = root }
					is_enslaved = no
					is_being_purged = no
					is_sapient = yes
					is_robot_pop = no
					NOT = { has_citizenship_type = { type = citizenship_purge } }
				}
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_MIGRATION_TREATIES_NEG
		trigger = {
			any_relation = {
				is_subject = no
				has_migration_access = root
			}
		}
	}
	
	country_attraction = {
		value = 1
		modifier = {
			factor = 0
			NOR = {
				is_country_type = default
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
				AND = {
					is_country_type = primitive
					capital_scope = {
						has_observation_outpost = yes
						observation_outpost = {
							has_mission = native_indoctrination		
						}
						observation_outpost_owner = { 
							OR = {
								has_ethic = ethic_fanatic_xenophobe
								has_ethic = ethic_xenophobe
							}							
						}				
					}
				}				
			}
		}
		modifier = {
			factor = 1.75
			NOR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
			OR = {
				has_faction = supremacist
				has_faction = isolationist
			}	
		}
		modifier = {
			factor = 1.5
			exists = ruler
			ruler = { 
				OR = {
					leader_of_faction = supremacist
					leader_of_faction = isolationist
				}
			}				
		}	
		modifier = {
			factor = 0.75
			exists = ruler
			ruler = { 
				NOT = { is_same_species = root }
			}
		}		
		modifier = {
			factor = 1.75
			has_ethic = ethic_xenophobe
		}
		modifier = {
			factor = 2.5
			has_ethic = ethic_fanatic_xenophobe
		}
		modifier = {
			factor = 1.5
			has_valid_civic = civic_fanatic_purifiers
		}
		modifier = {
			factor = 1.25
			is_country_type = default
			any_neighbor_country = {
				OR = {
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_hive_devouring_swarm
#					has_valid_civic = civic_machine_terminator
				}
			}
		}
		modifier = {
			factor = 1.25
			is_country_type = default
			years_passed > 40
			pop_percentage = {
				percentage < 0.05
				limit = {
					NOT = { is_same_species = root }
					is_enslaved = no
					is_robot_pop = no
					is_being_purged = no
					is_sapient = yes
				}
			}
		}
		modifier = {
			factor = 0.75
			any_relation = {
				is_subject = no
				has_migration_access = root
			}
		}
		modifier = {
			factor = 0.75
			allows_alien_leaders = yes
		}		
		modifier = {
			factor = 3.0
			any_war = {
				any_defender = {
					is_same_value = prevprev
				}
				any_attacker = {
					NOT = { is_same_species = root }
				}
			}
		}
		modifier = {
			factor = 1.5
			is_country_type = default
			years_passed > 40
			is_subject = no
			NOT = {
				any_relation = {
					is_subject = no
					OR = {
						has_defensive_pact = root
						is_in_federation_with = root
					}
				}
			}
		}
		modifier = {
			factor = 1.5
			is_country_type = default
			is_same_species = root
			any_relation = {
				NOT = { is_same_species = root }
				any_owned_pop = {
					is_enslaved = yes
					is_robot_pop = no
					is_same_species = root
				}
			}
		}
		modifier = {
			factor = 4.0
			is_country_type = default
			is_same_species = root
			any_relation = {
				has_opinion_modifier = { 
					who = root 
					modifier = opinion_genocidal_our_species 
				} 
			}
		}
		modifier = {
			factor = 2.0
			is_country_type = default
			is_same_species = root
			any_relation = {
				NOT = { is_same_species = root }
				any_owned_pop = {
					is_being_purged = yes
					is_robot_pop = no
					is_same_species = root
				}
			}
		}
		modifier = {
			factor = 0.75
			is_country_type = default
			NOT = { has_global_flag = potent_rebellions_expanded_active }
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
			any_neighbor_country = {
				is_rival = prev
				
				relative_power = {
					who = prev
					category = fleet
					value = overwhelming
				}
			}
		}		
		modifier = {
			factor = 1.25
			is_country_type = default
			OR = {
				has_ethic = ethic_xenophobe
				has_ethic = ethic_fanatic_xenophobe
			}
			NOR = {
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = overwhelming
					}
				}
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = superior
					}
				}
			}
		}
		# Effects of indoctrination mission
		modifier = {
			factor = 10
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_fanatic_xenophobe }
			}
		}
		modifier = {
			factor = 5
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_xenophobe }
			}
		}		
	}
	
	#from = planet
	pop_attraction = {
		value = 1		

		modifier = {
			factor = 0.8
			from = {
				unrest > 30
				owner = { has_ethic = ethic_xenophobe }
			}
		}
		modifier = {
			factor = 0.7
			from = {
				unrest > 30
				owner = { has_ethic = ethic_fanatic_xenophobe }
			}
		}
		modifier = {
			factor = 0
			has_trait = trait_hive_mind
		}			
		modifier = {
			factor = 2.0
			is_enslaved = no
			is_being_purged = no
			from = {
				any_owned_pop = {
					not = { is_same_species = root }
					is_robot_pop = no
					is_enslaved = yes
				}
			}
		}
		modifier = {
			factor = 0.75
			is_enslaved = no
			is_being_purged = no
			from = {
				any_owned_pop = {
					not = { is_same_species = root }
					is_enslaved = no
					is_robot_pop = no
					has_citizenship_rights = yes
				}
			}
		}
		modifier = {
			factor = 1.5
			has_citizenship_rights = no
			NOT = { is_same_species = from.owner }
		}
		modifier = {
			factor = 1.25
			years_passed > 40
			from = {
				NOT = {
					any_owned_pop = { #left out enslaved as already covered
						not = { is_same_species = root }
						is_sapient = yes
						is_robot_pop = no
					}
				}
			}
		}
		modifier = {
			factor = 1.5
			from = {
				any_pop = {
					NOT = { is_same_species = root }
					has_trait = "trait_repugnant"
				}
			}
		}
		modifier = {
			factor = 1.5
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_xenophobe
						has_ethic = ethic_fanatic_xenophobe
					}
				}
				has_planet_flag = ccrebel_perf_xenophobes_1
			}
		}
		modifier = {
			factor = 1.35
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_xenophobe
						has_ethic = ethic_fanatic_xenophobe
					}
				}
				has_planet_flag = ccrebel_perf_xenophobes_2
			}
		}
		modifier = {
			factor = 1.25
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_xenophobe
						has_ethic = ethic_fanatic_xenophobe
					}
				}
				has_planet_flag = ccrebel_perf_xenophobes_3
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				OR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
				}
			}
			OR = {
				has_living_standard = { type = living_standard_utopian }
				has_living_standard = { type = living_standard_good }
			}
		}
		modifier = {
			factor = 0.75
			has_modifier = pop_recently_conquered
			NOT = { has_ethic = ethic_xenophobe }
			from.owner = {
				OR = {
					has_ethic = ethic_xenophobe
					has_ethic = ethic_fanatic_xenophobe
				}
			}
		}	
	}
}

ethic_fanatic_xenophile = {
	cost = 2
	category = "xen"
	category_value = 4
	
	category_opposite = yes
	
	regular_variant = ethic_xenophile
	
	use_for_pops = no
	
	tags = {
		ETHIC_IMPROVED_DIPLOMACY
		ETHIC_DISALLOW_FULL_NATIVE_TAMPERING
		ETHIC_ALWAYS_REFUGEES
		ETHIC_DISALLOWS_DISPLACE
	}
	
	country_modifier = {
		country_border_friction_mult = -0.5
		diplomacy_influence_cost = -0.5
	}
	
	random_weight = {
		value = 100
	}
}

ethic_xenophile = {
	cost = 1
	category = "xen"
	category_value = 3
	
	category_opposite = yes
	
	fanatic_variant = ethic_fanatic_xenophile
	
	tags = {
		ETHIC_IMPROVED_DIPLOMACY
		ETHIC_DISALLOW_FULL_NATIVE_TAMPERING
		ETHIC_ALWAYS_REFUGEES
		ETHIC_DISALLOWS_DISPLACE
	}
	
	country_modifier = {
		country_border_friction_mult = -0.25
		diplomacy_influence_cost = -0.25
	}
	
	random_weight = {
		value = 66
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_XENOPHILE_POS
		trigger = {
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
		}
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_FACTION_POS
		trigger = {
			NOR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
			has_faction = xenoist
		}		
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_RULER_FACTION_POS
		trigger = {
			exists = ruler
			ruler = { leader_of_faction = xenoist }
		}		
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_FREE_XENOS_POS
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					not = { is_same_species = root }
					is_enslaved = no
					is_being_purged = no
					is_sapient = yes
					is_robot_pop = no
					NOT = { has_citizenship_type = { type = citizenship_purge } }
				}
			}
		}
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_XENO_DIPLOMACY_POS
		trigger = {
			any_relation = {
				NOT = { is_same_species = root }
				OR = {
					is_in_federation_with = root
					has_defensive_pact = root
				}				
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_MIGRATION_TREATIES_POS
		trigger = {
			any_relation = {
				is_subject = no
				has_migration_access = root
				NOT = { is_same_species = root }
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_CHARISMATIC_POS
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					NOT = { has_trait = "trait_charismatic" }
					is_non_sapient_robot = no
				}			
				any_owned_pop = {
					has_trait = "trait_charismatic"
				}
			}
		}
	}

	pop_attraction_tag = {
		desc = POP_ATTRACTION_FANATIC_PURIFIERS_NEG
		trigger = {
			has_valid_civic = civic_fanatic_purifiers
		}
	}		
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_INWARDS_PERFECTION_NEG
		trigger = {
			has_valid_civic = civic_inwards_perfection
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_ENSLAVEMENT_OF_SPECIES_NEG
		trigger = {
			any_relation = {
				NOT = { is_same_species = root }
				any_owned_pop = {
					is_enslaved = yes
					is_robot_pop = no
					is_same_species = root
				}
			}
		}
	}		
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_PURGING_OF_SPECIES_NEG
		trigger = {
			any_relation = {
				has_opinion_modifier = { 
					who = root 
					modifier = opinion_genocidal_our_species 
				} 
			}
		}
	}		
	
	country_attraction = {
		value = 1
		modifier = {
			factor = 0
			NOR = {
				is_country_type = default
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
				AND = {
					is_country_type = primitive
					capital_scope = {
						has_observation_outpost = yes
						observation_outpost = {
							has_mission = native_indoctrination		
						}
						observation_outpost_owner = { 
							OR = {
								has_ethic = ethic_fanatic_xenophile
								has_ethic = ethic_xenophile
							}							
						}				
					}
				}				
			}
		}
		modifier = {
			factor = 1.75
			NOR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
			has_faction = xenoist	
		}	
		modifier = {
			factor = 1.5
			is_country_type = default
			exists = ruler
			ruler = { leader_of_faction = xenoist }				
		}		
		modifier = {
			factor = 1.5
			is_country_type = default
			exists = ruler
			ruler = { NOT = { is_same_species = root } }				
		}
		modifier = {
			factor = 1.75
			has_ethic = ethic_xenophile
		}
		modifier = {
			factor = 2.5
			has_ethic = ethic_fanatic_xenophile
		}
		modifier = {
			factor = 0.5
			has_valid_civic = civic_inwards_perfection
		}
		modifier = {
			factor = 0.33
			has_valid_civic = civic_fanatic_purifiers
		}	
		modifier = {
			factor = 1.5
			is_country_type = default
			allows_alien_leaders = yes
		}
		modifier = {
			factor = 1.5
			any_relation = {
				NOT = { is_same_species = root }
				is_subject = no
				has_migration_access = root
			}
		}
		modifier = {
			factor = 1.20
			is_country_type = default
			has_country_flag = cc_eventperf_has_minority
		}
		modifier = {
			factor = 1.30
			is_country_type = default
			has_country_flag = cc_eventperf_has_large_minority
		}
		modifier = {
			factor = 1.33
			any_relation = {
				NOT = { is_same_species = root }
				OR = {
					is_in_federation_with = root
					has_defensive_pact = root
				}				
			}
		}
		modifier = {
			factor = 0.5
			any_relation = {
				has_opinion_modifier = { 
					who = root 
					modifier = opinion_genocidal_our_species 
				} 
			}
		}
		modifier = {
			factor = 0.75
			any_relation = {
				NOT = { is_same_species = root }
				any_owned_pop = {
					is_enslaved = yes
					is_same_species = root
					is_robot_pop = no
				}
			}
		}
		modifier = {
			factor = 0.75
			is_country_type = default
			any_neighbor_country = {
				OR = {
					has_valid_civic = civic_hive_devouring_swarm
					has_valid_civic = civic_fanatic_purifiers
#					has_valid_civic = civic_machine_terminator
				}
			}
		}
		modifier = {
			factor = 0.75
			is_country_type = default
			NOT = { has_global_flag = potent_rebellions_expanded_active }
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
			any_neighbor_country = {
				is_rival = prev
				
				relative_power = {
					who = prev
					category = fleet
					value = overwhelming
				}
			}
		}		
		modifier = {
			factor = 1.25
			is_country_type = default
			OR = {
				has_ethic = ethic_xenophile
				has_ethic = ethic_fanatic_xenophile
			}
			NOR = {
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = overwhelming
					}
				}
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = superior
					}
				}
			}
		}
		# Effects of indoctrination mission
		modifier = {
			factor = 10
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_fanatic_xenophile }
			}
		}
		modifier = {
			factor = 5
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_xenophile }
			}
		}		
	}
	
	# from = planet
	pop_attraction = {
		value = 1		

		modifier = {
			factor = 0.8
			from = {
				unrest > 30
				owner = { has_ethic = ethic_xenophile }
			}
		}
		modifier = {
			factor = 0.7
			from = {
				unrest > 30
				owner = { has_ethic = ethic_fanatic_xenophile }
			}
		}
		modifier = {
			factor = 0
			has_trait = trait_hive_mind
		}	
		modifier = {
			factor = 2
			not = { is_same_species = root }
			has_citizenship_rights = yes
			is_enslaved = no
		}
		modifier = {
			factor = 0.75
			has_citizenship_rights = no
			NOT = { is_same_species = from.owner }
		}
		modifier = {
			factor = 1.5
			has_citizenship_rights = yes
			from = {
				any_owned_pop = {
					not = { is_same_species = root }
					is_enslaved = no
					has_citizenship_rights = yes
					is_robot_pop = no
				}
			}
		}
		modifier = {
			factor = 1.5
			has_citizenship_rights = yes
			from = { has_planet_flag = cc_eventperf_planet_xenos_with_rights }
		}
		modifier = {
			factor = 1.5
			from = {
				any_pop = {
					NOT = { is_same_species = root }
					has_trait = "trait_charismatic"
				}
			}
		}
		modifier = {
			factor = 1.5
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_xenophile
						has_ethic = ethic_fanatic_xenophile
					}
				}
				has_planet_flag = ccrebel_perf_xenophiles_1
			}
		}
		modifier = {
			factor = 1.35
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_xenophile
						has_ethic = ethic_fanatic_xenophile
					}
				}
				has_planet_flag = ccrebel_perf_xenophiles_2
			}
		}
		modifier = {
			factor = 1.25
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_xenophile
						has_ethic = ethic_fanatic_xenophile
					}
				}
				has_planet_flag = ccrebel_perf_xenophiles_3
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				OR = {
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
				}
			}
			OR = {
				has_living_standard = { type = living_standard_utopian }
				has_living_standard = { type = living_standard_good }
			}
		}		
		modifier = {
			factor = 0.75
			has_modifier = pop_recently_conquered
			NOT = { has_ethic = ethic_xenophile }
			from.owner = {
				OR = {
					has_ethic = ethic_xenophile
					has_ethic = ethic_fanatic_xenophile
				}
			}
		}
	}	
}

ethic_fanatic_militarist = {
	cost = 2
	category = "mil"
	category_value = 0
	
	use_for_pops = no
	
	regular_variant = ethic_militarist
	
	tags = {
		ETHIC_ALLOW_NO_RETREAT
	}	
	
	country_modifier = {
		army_damage_mult = 0.20
		ship_fire_rate_mult = 0.20
	}
	
	# more common ethic
	random_weight = {
		value = 250
	}
}

ethic_militarist = {
	cost = 1
	category = "mil"
	category_value = 1
	
	fanatic_variant = ethic_fanatic_militarist
	
	tags = {
		ETHIC_ALLOW_NO_RETREAT
	}		
	
	country_modifier = {
		army_damage_mult = 0.10
		ship_fire_rate_mult = 0.10
	}
	
	# more common ethic
	random_weight = {
		value = 150
	}

	pop_attraction_tag = {
		desc = POP_ATTRACTION_MILITARIST_POS
		trigger = {
			OR = {
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
			}
		}
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_FACTION_POS
		trigger = {
			NOR = {
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
			}
			has_faction = imperialist
		}		
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_RULER_FACTION_POS
		trigger = {
			exists = ruler
			ruler = { leader_of_faction = imperialist }
		}		
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_AT_WAR_POS
		trigger = {
			is_at_war = yes
		}
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_LOST_WAR_POS
		trigger = {
			recently_lost_war = yes
		}
	}

	pop_attraction_tag = {
		desc = POP_ATTRACTION_LOST_PLANETS_POS
		trigger = {
			any_relation = {
				any_owned_planet = {
					is_original_owner = root
				}
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_OCCUPIED_PLANET_POS
		trigger = {
			any_owned_planet = {
				NOT = { is_controlled_by = root }
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_NEIGHBOR_RIVALS_POS
		trigger = {
			any_neighbor_country = {
				OR = {
					is_hostile_to = from
					is_domineering_to = from
					is_rival = from
				}
			}
		}
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_STRONG_POS
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					OR = {
						has_trait = "trait_strong"
						has_trait = "trait_very_strong"
					}
				}
			}
		}
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_EMPIRE_PEACEFUL_NEG
		trigger = {
			years_of_peace = {
				value > 20
				delay = 50
			}
		}
	}		

	pop_attraction_tag = {
		desc = POP_ATTRACTION_WEAK_NEG
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					has_trait = "trait_weak"
				}
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_INWARDS_PERFECTION_NEG
		trigger = {
			has_valid_civic = civic_inwards_perfection
		}
	}	
	
	# from = planet
	country_attraction = {
		value = 1
		modifier = {
			factor = 0
			NOR = {
				is_country_type = default
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
				AND = {
					is_country_type = primitive
					capital_scope = {
						has_observation_outpost = yes
						observation_outpost = {
							has_mission = native_indoctrination		
						}
						observation_outpost_owner = { 
							OR = {
								has_ethic = ethic_fanatic_militarist
								has_ethic = ethic_militarist
							}							
						}				
					}
				}				
			}
		}
			
		modifier = {
			factor = 1.75
			NOR = {
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
			}
			has_faction = imperialist	
		}
			
		modifier = {
			factor = 1.5
			is_country_type = default
			exists = ruler
			ruler = { leader_of_faction = imperialist }				
		}				
			
		modifier = {
			factor = 1.75
			has_ethic = ethic_militarist
		}
		
		modifier = {
			factor = 2.5
			has_ethic = ethic_fanatic_militarist
		}
		
		modifier = {
			factor = 0.33
			has_valid_civic = civic_inwards_perfection
		}

		modifier = {
			factor = 1.25
			is_country_type = default
			any_neighbor_country = {
				OR = {
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_hive_devouring_swarm
					has_valid_civic = civic_machine_terminator
				}
			}
		}
		
		modifier = {
			factor = 0.8
			is_country_type = default
			years_of_peace = {
				value > 20
				delay = 50
			}
		}
		modifier = {
			factor = 0.75
			is_country_type = default
			years_of_peace = {
				value > 40
				delay = 50
			}
		}	
		modifier = {
			factor = 0.75
			is_country_type = default
			years_of_peace = {
				value > 60
				delay = 50
			}
		}		
		modifier = {
			factor = 0.75
			is_country_type = default
			years_of_peace = {
				value > 80
				delay = 50
			}
		}		
		modifier = {
			factor = 0.75
			is_country_type = default
			years_of_peace = {
				value > 100
				delay = 50
			}
		}	
		modifier = {
			factor = 1.25
			is_country_type = default
			is_same_species = root
			any_relation = {
				NOT = { is_same_species = root }
				any_owned_pop = {
					is_enslaved = yes
					is_robot_pop = no
					is_same_species = root
				}
			}
		}
		modifier = {
			factor = 2.0
			is_country_type = default
			is_same_species = root
			any_relation = {
				has_opinion_modifier = { 
					who = root 
					modifier = opinion_genocidal_our_species 
				} 
			}
		}
		modifier = {
			factor = 1.5
			is_country_type = default
			is_same_species = root
			any_relation = {
				NOT = { is_same_species = root }
				any_owned_pop = {
					is_being_purged = yes
					is_robot_pop = no
					is_same_species = root
				}
			}
		}	
		modifier = {
			factor = 0.75
			is_country_type = default
			NOT = { has_global_flag = potent_rebellions_expanded_active }
			OR = {
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
			}
			any_neighbor_country = {
				is_rival = prev
				
				relative_power = {
					who = prev
					category = fleet
					value = overwhelming
				}
			}
		}	
		modifier = {
			factor = 1.25
			is_country_type = default
			OR = {
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
			}
			NOR = {
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = overwhelming
					}
				}
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = superior
					}
				}
			}
		}
		# Effects of indoctrination mission
		modifier = {
			factor = 10
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_fanatic_militarist }
			}
		}
		modifier = {
			factor = 5
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_militarist }
			}
		}
		modifier = {
			factor = 1.25
			any_relation = {
				any_owned_planet = {
					is_original_owner = root
				}
			}
		}
	}
	
	# from = planet
	pop_attraction = {
		value = 1
		
		modifier = {
			factor = 0.8
			from = {
				unrest > 30
				owner = { has_ethic = ethic_militarist }
			}
		}
		modifier = {
			factor = 0.7
			from = {
				unrest > 30
				owner = { has_ethic = ethic_fanatic_militarist }
			}
		}
		modifier = {
			factor = 0
			has_trait = trait_hive_mind
		}	
		modifier = {
			factor = 2.0
			OR = {
				has_citizenship_rights = yes
				can_be_military_leader = yes
			}
			from = { owner = { is_at_war = yes } }
		}
		modifier = {
			factor = 2.0
			OR = {
				has_citizenship_rights = yes
				can_be_military_leader = yes
			}
			from = { owner = { recently_lost_war = yes } }
		}
		modifier = {
			factor = 1.5
			OR = {
				has_citizenship_rights = yes
				can_be_military_leader = yes
			}
			from = {
				owner = { 
					any_neighbor_country = {		
						from = { is_neighbor_of = prev }
						OR = {
							is_hostile_to = from.owner
							is_domineering_to = from.owner
							is_rival = from.owner						
						}
					}
				}
			}
		}
		modifier = {
			factor = 1.5
			OR = {
				has_citizenship_rights = yes
				can_be_military_leader = yes
			}
			from = {
				has_planet_flag = cc_eventperf_planet_hostile_border
				owner = { 
					NOR = {
						is_at_war = yes
						recently_lost_war = yes
					}
				}
			}
		}
		modifier = {
			factor = 1.1
			has_trait = "trait_strong"
		}
		modifier = {
			factor = 1.2
			has_trait = "trait_very_strong"
		}
		modifier = {
			factor = 0.75
			has_trait = "trait_weak"
		}
		modifier = {
			factor = 0.5
			has_military_service_type = { type = military_service_none country = root }
		}
		modifier = {
			factor = 0.75
			from = {
				NOT = { has_planet_flag = cc_eventperf_planet_hostile_border }
				has_building = building_capital_3
				NOT = { has_building = building_military_academy }
			}
		}
		modifier = {
			factor = 1.5
			from = { has_building = building_military_academy }
		}
		modifier = {
			factor = 1.5
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_militarist
						has_ethic = ethic_fanatic_militarist
					}
				}
				has_planet_flag = ccrebel_perf_militarists_1
			}
		}
		modifier = {
			factor = 1.35
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_militarist
						has_ethic = ethic_fanatic_militarist
					}
				}
				has_planet_flag = ccrebel_perf_militarists_2
			}
		}
		modifier = {
			factor = 1.25
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_militarist
						has_ethic = ethic_fanatic_militarist
					}
				}
				has_planet_flag = ccrebel_perf_militarists_3
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				OR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}
			}
			OR = {
				has_living_standard = { type = living_standard_utopian }
				has_living_standard = { type = living_standard_good }
			}
		}	
		modifier = {
			factor = 3.0
			from = {
				NOT = { is_controlled_by = from.owner }
			}
		}		
		modifier = {
			factor = 0.75
			has_modifier = pop_recently_conquered
			NOT = { has_ethic = ethic_militarist }
			from.owner = {
				OR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}
			}
		}	
	}	
}

ethic_fanatic_pacifist = {
	cost = 2
	category = "mil"
	category_value = 4
	
	category_opposite = yes
	
	regular_variant = ethic_pacifist
	
	use_for_pops = no
	
	tags = {
		ETHIC_DISALLOW_OFFENSIVE_WARS
		ETHIC_DISALLOW_FULL_BOMBARDMENT
	}	
	
	country_modifier = {
		pop_resource_output = 0.10
		country_core_sector_system_cap = 4
	}
	
	random_weight = {
		value = 33 		# rare ethic
	}
}

ethic_pacifist = {
	cost = 1
	category = "mil"
	category_value = 3
	
	category_opposite = yes
	
	fanatic_variant = ethic_fanatic_pacifist
	
	country_modifier = {
		pop_resource_output = 0.05
		country_core_sector_system_cap = 2
	}
	
	tags = {
		ETHIC_DISALLOW_CONQUEST_WARS
		ETHIC_DISALLOW_FULL_BOMBARDMENT
	}
	
	random_weight = {
		value = 66	# uncommon ethic
	}

	pop_attraction_tag = {
		desc = POP_ATTRACTION_PACIFIST_POS
		trigger = {
			OR = {
				has_ethic = ethic_pacifist
				has_ethic = ethic_fanatic_pacifist
			}
		}
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_FACTION_POS
		trigger = {
			NOR = {
				has_ethic = ethic_pacifist
				has_ethic = ethic_fanatic_pacifist
			}
			has_faction = prosperity
		}		
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_RULER_FACTION_POS
		trigger = {
			exists = ruler
			ruler = { leader_of_faction = prosperity }
		}		
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_EMPIRE_PEACEFUL_POS
		trigger = {
			years_of_peace = {
				value > 20
				delay = 50
			}
		}
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_INWARDS_PERFECTION_POS
		trigger = {
			has_valid_civic = civic_inwards_perfection
		}
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_NEIGHBOR_RIVALS_NEG
		trigger = {
			any_neighbor_country = {
				OR = {
					is_hostile_to = from
					is_domineering_to = from
					is_rival = from
				}
			}
		}
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_FANATIC_PURIFIERS_NEG
		trigger = {
			has_valid_civic = civic_fanatic_purifiers
		}
	}
	
	country_attraction = {
		value = 1
		modifier = {
			factor = 0
			NOR = {
				is_country_type = default
				has_ethic = ethic_pacifist
				has_ethic = ethic_fanatic_pacifist
				AND = {
					is_country_type = primitive
					capital_scope = {
						has_observation_outpost = yes
						observation_outpost = {
							has_mission = native_indoctrination		
						}
						observation_outpost_owner = { 
							OR = {
								has_ethic = ethic_fanatic_pacifist
								has_ethic = ethic_pacifist
							}							
						}				
					}
				}				
			}
		}
		modifier = {
			factor = 1.75
			NOR = {
				has_ethic = ethic_pacifist
				has_ethic = ethic_fanatic_pacifist
			}
			has_faction = prosperity
		}
		modifier = {
			factor = 1.5
			has_valid_civic = civic_inwards_perfection
		}				
		modifier = {
			factor = 0.5
			has_valid_civic = civic_fanatic_purifiers
		}		
		modifier = {
			factor = 1.5
			is_country_type = default
			exists = ruler
			ruler = { leader_of_faction = prosperity }				
		}			
		modifier = {
			factor = 1.75
			has_ethic = ethic_pacifist
		}
		modifier = {
			factor = 2.5
			has_ethic = ethic_fanatic_pacifist
		}
		modifier = {
			factor = 1.25
			is_country_type = default
			years_of_peace = {
				value > 20
				delay = 50
			}
		}
		modifier = {
			factor = 1.33
			is_country_type = default
			years_of_peace = {
				value > 40
				delay = 50
			}
		}	
		modifier = {
			factor = 1.33
			is_country_type = default
			years_of_peace = {
				value > 60
				delay = 50
			}
		}		
		modifier = {
			factor = 1.33
			is_country_type = default
			years_of_peace = {
				value > 80
				delay = 50
			}
		}		
		modifier = {
			factor = 1.33
			is_country_type = default
			years_of_peace = {
				value > 100
				delay = 50
			}
		}
		modifier = {
			factor = 0.8
			is_country_type = default
			any_neighbor_country = {
				OR = {
					has_valid_civic = civic_fanatic_purifiers
					has_valid_civic = civic_hive_devouring_swarm
					has_valid_civic = civic_machine_terminator
				}
			}
		}
		modifier = {
			factor = 1.5
			is_country_type = default
			any_relation = {
				OR = {
					has_defensive_pact = root
					is_in_federation_with = root
				}
				NOR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}
				root = {
					any_relation = {
						NOT = { is_same_value = prevprev }
						OR = {
							has_defensive_pact = root
							is_in_federation_with = root
						}
						NOR = {
							has_ethic = ethic_militarist
							has_ethic = ethic_fanatic_militarist
						}
					}
				}
			}
		}
		modifier = {
			factor = 0.75
			is_country_type = default
			NOT = { has_global_flag = potent_rebellions_expanded_active }
			OR = {
				has_ethic = ethic_pacifist
				has_ethic = ethic_fanatic_pacifist
			}
			any_neighbor_country = {
				is_rival = prev
				
				relative_power = {
					who = prev
					category = fleet
					value = overwhelming
				}
			}
		}		
		modifier = {
			factor = 1.25
			is_country_type = default
			OR = {
				has_ethic = ethic_pacifist
				has_ethic = ethic_fanatic_pacifist
			}
			NOR = {
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = overwhelming
					}
				}
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = superior
					}
				}
			}
		}
		# Effects of indoctrination mission
		modifier = {
			factor = 10
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_fanatic_pacifist }
			}
		}
		modifier = {
			factor = 5
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_pacifist }
			}
		}		
	}
	
	# from = planet
	pop_attraction = {
		value = 1			

		modifier = {
			factor = 0.8
			from = {
				unrest > 30
				owner = { has_ethic = ethic_pacifist }
			}
		}
		modifier = {
			factor = 0.7
			from = {
				unrest > 30
				owner = { has_ethic = ethic_fanatic_pacifist }
			}
		}
		modifier = {
			factor = 0
			has_trait = trait_hive_mind
		}	
		modifier = {
			factor = 0.5
			from = { has_planet_flag = cc_eventperf_planet_hostile_border }
			OR = {
				has_citizenship_rights = yes
				can_be_military_leader = yes
			}
		}
		modifier = {
			factor = 0.5
			OR = {
				has_citizenship_rights = yes
				can_be_military_leader = yes
			}			
			from = {
				owner = { 
					any_neighbor_country = {		
						from = { is_neighbor_of = prev }
						OR = {
							is_hostile_to = from.owner
							is_domineering_to = from.owner
							is_rival = from.owner						
						}
					}
				}
			}
		}	
		modifier = {
			factor = 1.5		
			from = {
				NOT = { has_planet_flag = cc_eventperf_planet_hostile_border }
				has_building = building_capital_3
				NOT = { has_building = building_military_academy }
			}
		}
		modifier = {
			factor = 1.5
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_pacifist
						has_ethic = ethic_fanatic_pacifist
					}
				}
				has_planet_flag = ccrebel_perf_pacifists_1
			}
		}
		modifier = {
			factor = 1.35
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_pacifist
						has_ethic = ethic_fanatic_pacifist
					}
				}
				has_planet_flag = ccrebel_perf_pacifists_2
			}
		}
		modifier = {
			factor = 1.25
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_pacifist
						has_ethic = ethic_fanatic_pacifist
					}
				}
				has_planet_flag = ccrebel_perf_pacifists_3
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				OR = {
					has_ethic = ethic_pacifist
					has_ethic = ethic_fanatic_pacifist
				}
			}
			OR = {
				has_living_standard = { type = living_standard_utopian }
				has_living_standard = { type = living_standard_good }
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				has_living_standard = { type = living_standard_utopian }
				has_living_standard = { type = living_standard_good }
			}
		}
		modifier = {
			factor = 0.75
			has_modifier = pop_recently_conquered
			NOT = { has_ethic = ethic_pacifist }
			from.owner = {
				OR = {
					has_ethic = ethic_pacifist
					has_ethic = ethic_fanatic_pacifist
				}
			}
		}
	}
}

ethic_fanatic_spiritualist = {
	cost = 2 
	category = "spi"
	category_value = 0
	
	regular_variant = ethic_spiritualist
	
	use_for_pops = no

	tags = {
		ETHIC_ALLOWS_TEMPLE
		ETHIC_ALLOWS_HALLOW_WORLD
		ETHIC_DISALLOW_AI
	}	
	
	country_modifier = {
		country_resource_unity_mult = 0.20
		edict_cost = -0.10
	}
	
	random_weight = {
		value = 150
	}
}

ethic_spiritualist = {
	cost = 1
	category = "spi"
	category_value = 1
	
	fanatic_variant = ethic_fanatic_spiritualist
	
	tags = {
		ETHIC_ALLOWS_TEMPLE
		ETHIC_ALLOWS_HALLOW_WORLD
		ETHIC_DISALLOW_AI
	}		
	
	country_modifier = {
		country_resource_unity_mult = 0.10
		edict_cost = -0.05
	}
	
	random_weight = {
		value = 100		
	}
	
	pop_attraction_tag = {
		desc = 	POP_ATTRACTION_SPIRITUALIST_POS
		trigger = {
			OR = {
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
			}
		}
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_FACTION_POS
		trigger = {
			NOR = {
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
			}
			has_faction = traditionalist
		}		
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_RULER_FACTION_POS
		trigger = {
			exists = ruler
			ruler = { leader_of_faction = traditionalist }
		}		
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_PSIONICS_POS
		trigger = {
			OR = {
				has_technology = "tech_telepathy"
				has_technology = "tech_psionic_theory"		
			}		
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_SPIRITUALIST_DIPLOMACY_POS
		trigger = {
			any_relation = {
				OR = {
					is_in_federation_with = root
					has_defensive_pact = root
					AND = {
						is_subject = no
						has_migration_access = root
					}
				}
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}				
			}
		}
	}

	pop_attraction_tag = {
		desc = POP_ATTRACTION_SPIRITUALIST_OVERLORD_POS
		trigger = {
			is_subject = yes
			overlord = {
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}				
			}
		}
	}		

	pop_attraction_tag = {
		desc = POP_ATTRACTION_ROBOTS_NEG
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					is_robot_pop = yes
				}
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_ROBOT_RIGHTS_NEG
		trigger = {
			has_policy_flag = ai_full_rights
		}
	}			
	
	country_attraction = {
		value = 1
		modifier = {
			factor = 0
			NOR = {
				is_country_type = default
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
				AND = {
					is_country_type = primitive
					capital_scope = {
						has_observation_outpost = yes
						observation_outpost = {
							has_mission = native_indoctrination		
						}
						observation_outpost_owner = { 
							OR = {
								has_ethic = ethic_fanatic_spiritualist
								has_ethic = ethic_spiritualist
							}							
						}				
					}
				}
			}
		}
		# Effects of indoctrination mission
		modifier = {
			factor = 10
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_fanatic_spiritualist }
			}
		}
		modifier = {
			factor = 5
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_spiritualist }
			}
		}	
		modifier = {
			factor = 1.75
			NOR = {
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
			}
			has_faction = traditionalist	
		}	
		modifier = {
			factor = 1.5
			is_country_type = default
			exists = ruler
			ruler = { leader_of_faction = traditionalist }				
		}			
		modifier = {
			factor = 1.75
			has_ethic = ethic_spiritualist
		}
		modifier = {
			factor = 2.5
			has_ethic = ethic_fanatic_spiritualist
		}
		modifier = {
			factor = 1.25
			is_country_type = default
			has_technology = "tech_psionic_theory"
		}
		modifier = {
			factor = 1.5
			is_country_type = default
			has_ascension_perk = ap_mind_over_matter
		}
		modifier = {
			factor = 1.5
			is_country_type = default
			has_ascension_perk = ap_transcendence
		}		
		modifier = {
			factor = 0.75
			is_country_type = default
			has_policy_flag = ai_full_rights
		}
		modifier = {
			factor = 1.5
			is_country_type = default
			NOT = { has_policy_flag = ai_full_rights }
			any_owned_pop = { is_robot_pop = yes }
			any_country = {
				has_communications = root
				has_country_flag = machine_uprising_country
			}
		}
		modifier = {
			factor = 1.5
			is_country_type = default
			has_country_flag = machine_uprising_originator
		}
		modifier = {
			factor = 1.25
			is_country_type = default
			any_neighbor_country = {
				has_valid_civic = civic_machine_terminator
			}
		}
		modifier = {
			factor = 1.35
			is_country_type = default
			any_neighbor_country = {
				has_valid_civic = civic_machine_terminator
				OR = {
					relative_power = {
						who = prev
						category = fleet
						value = overwhelming
					}
					relative_power = {
						who = prev
						category = fleet
						value = superior
					}
				}
			}
		}
		modifier = {
			factor = 1.25
			is_country_type = default
			any_relation = {
				OR = {
					is_rival = root
					is_hostile_to = root
					is_domineering_to = root
				}
				has_authority = auth_machine_intelligence
				NOT = { has_valid_civic = civic_machine_terminator }
				OR = {
					relative_power = {
						who = prev
						category = fleet
						value = overwhelming
					}
					relative_power = {
						who = prev
						category = fleet
						value = superior
					}
				}
			}
		}
		modifier = {
			factor = 1.5
			any_country = {
				is_at_war_with = prev
				has_authority = auth_machine_intelligence
			}
		}
		modifier = {
			factor = 1.5
			is_subject = yes
			overlord = {
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}
			}
		}		
		modifier = {
			factor = 1.25
			any_relation = {
				OR = {
					is_in_federation_with = root
					has_defensive_pact = root
				}
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}				
			}
		}
		modifier = {
			factor = 1.5
			any_relation = {
				is_subject = no
				has_migration_access = root
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}
			}
		}	
		modifier = {
			factor = 0.75
			is_country_type = default
			NOT = { has_global_flag = potent_rebellions_expanded_active }
			OR = {
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
			}
			any_neighbor_country = {
				is_rival = prev
				
				relative_power = {
					who = prev
					category = fleet
					value = overwhelming
				}
			}
		}		
		modifier = {
			factor = 1.25
			is_country_type = default
			OR = {
				has_ethic = ethic_spiritualist
				has_ethic = ethic_fanatic_spiritualist
			}
			NOR = {
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = overwhelming
					}
				}
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = superior
					}
				}
			}
		}
	}

	# from = planet
	pop_attraction = {
		value = 1
		
		modifier = {
			factor = 0.8
			from = {
				unrest > 30
				owner = { has_ethic = ethic_spiritualist }
			}
		}
		modifier = {
			factor = 0.7
			from = {
				unrest > 30
				owner = { has_ethic = ethic_fanatic_spiritualist }
			}
		}
		modifier = {
			factor = 0
			has_trait = trait_hive_mind
		}
		modifier = {
			factor = 1.2
			has_trait = trait_agrarian
		}	
		modifier = {
			factor = 0.25
			is_robot_pop = yes
		}
		modifier = {
			factor = 1.35
			from = { has_planet_flag = cc_eventperf_near_religious_centre }
		}
		modifier = {
			factor = 0.75
			from = {
				has_building = building_capital_3
				NOR = {
					has_building = building_temple
					has_building = building_holotemple				
					has_building = building_citadel_of_faith
					has_building = building_sacred_nexus
				}
			}
		}
		modifier = {
			factor = 1.25
			years_passed > 40
			from = { has_building = building_capital_1 }
		}
		modifier = {
			factor = 1.33
			years_passed > 35
			from = { has_building = building_colony_shelter }
		}
		modifier = {
			factor = 1.5
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_spiritualist
						has_ethic = ethic_fanatic_spiritualist
					}
				}
				has_planet_flag = ccrebel_perf_spiritualists_1
			}
		}
		modifier = {
			factor = 1.35
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_spiritualist
						has_ethic = ethic_fanatic_spiritualist
					}
				}
				has_planet_flag = ccrebel_perf_spiritualists_2
			}
		}
		modifier = {
			factor = 1.25
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_spiritualist
						has_ethic = ethic_fanatic_spiritualist
					}
				}
				has_planet_flag = ccrebel_perf_spiritualists_3
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}
			}
			OR = {
				has_living_standard = { type = living_standard_utopian }
				has_living_standard = { type = living_standard_good }
			}
		}
		modifier = {
			factor = 0.75
			has_modifier = pop_recently_conquered
			NOT = { has_ethic = ethic_spiritualist }
			from.owner = {
				OR = {
					has_ethic = ethic_spiritualist
					has_ethic = ethic_fanatic_spiritualist
				}
			}
		}
	}		
}

ethic_fanatic_materialist = {
	cost = 2
	category = "spi"
	category_value = 4
	
	regular_variant = ethic_materialist
	
	category_opposite = yes
	
	use_for_pops = no
	
	tags = {
		ETHIC_ALLOWS_ACADEMIC_PRIVILEGE
		ETHIC_DISALLOW_BAN_AI
		ETHIC_DISALLOW_BAN_ROBOTS
	}	
	
	country_modifier = {
		pop_robot_upkeep_mult = -0.2
		all_technology_research_speed = 0.10
	}
	
	random_weight = {
		value = 150
	}
}

ethic_materialist = {
	cost = 1
	category = "spi"
	category_value = 3
	
	fanatic_variant = ethic_fanatic_materialist
	
	category_opposite = yes
	
	tags = {
		ETHIC_ALLOWS_ACADEMIC_PRIVILEGE
		ETHIC_DISALLOW_BAN_AI
		ETHIC_DISALLOW_BAN_ROBOTS
	}			
	
	country_modifier = {
		pop_robot_upkeep_mult = -0.1
		all_technology_research_speed = 0.05
	}	
	
	random_weight = {
		value = 100
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_MATERIALIST_POS
		trigger = {
			OR = {
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_materialist
			}
		}
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_FACTION_POS
		trigger = {
			NOR = {
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_materialist
			}
			has_faction = technologist
		}		
	}	
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_MECHANIST_POS
		trigger = {
			has_valid_civic = civic_mechanists
		}
	}
	
	pop_attraction_tag = {
		desc = POP_ATTRACTION_RULER_FACTION_POS
		trigger = {
			exists = ruler
			ruler = { leader_of_faction = technologist }
		}		
	}

	pop_attraction_tag = {
		desc = POP_ATTRACTION_CYBORGS_POS
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					has_trait = trait_cybernetic
				}
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_ROBOTS_POS
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					is_robot_pop = yes
				}
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_ROBOT_RIGHTS_POS
		trigger = {
			has_policy_flag = ai_full_rights
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_MATERIALIST_RESEARCH_POS
		trigger = {
			any_relation = {
				root = { has_research_agreement = prev }
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}				
			}
		}
	}	

	pop_attraction_tag = {
		desc = POP_ATTRACTION_NATURAL_SCIENTISTS_POS
		trigger = {
			any_owned_planet = {
				any_owned_pop = {
					OR = {
						has_trait = "trait_natural_sociologists"
						has_trait = "trait_natural_engineers"
						has_trait = "trait_natural_physicists"		
					}
				}
			}
		}
	}		

	country_attraction = {
		value = 1
		modifier = {
			factor = 0
			NOR = {
				is_country_type = default
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_materialist
				AND = {
					is_country_type = primitive
					capital_scope = {
						has_observation_outpost = yes
						observation_outpost = {
							has_mission = native_indoctrination		
						}
						observation_outpost_owner = { 
							OR = {
								has_ethic = ethic_fanatic_materialist
								has_ethic = ethic_materialist
							}							
						}				
					}
				}
			}
		}
		# Effects of indoctrination mission
		modifier = {
			factor = 10
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_fanatic_materialist }
			}
		}
		modifier = {
			factor = 5
			is_country_type = primitive
			capital_scope = {
				has_observation_outpost = yes
				observation_outpost = {
					has_mission = native_indoctrination		
				}
				observation_outpost_owner = { has_ethic = ethic_materialist }
			}
		}			
		modifier = {
			factor = 1.75
			NOR = {
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_materialist
			}
			has_faction = technologist
		}
		modifier = {
			factor = 1.5
			is_country_type = default
			exists = ruler
			ruler = { leader_of_faction = technologist }				
		}		
		modifier = {
			factor = 1.75
			has_ethic = ethic_materialist
		}	
		modifier = {
			factor = 2.5
			has_ethic = ethic_fanatic_materialist
		}
		modifier = {
			factor = 1.25
			has_valid_civic = civic_mechanists
		}			
		modifier = {
			factor = 1.33
			is_country_type = default
			has_policy_flag = ai_full_rights
		}	
		modifier = {
			factor = 1.33
			any_relation = {
				root = { has_research_agreement = prev }
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}				
			}
		}	
		modifier = {
			factor = 1.1
			is_country_type = default
			capital_scope = { has_building = building_galactic_stock_exchange }
		}
		modifier = {
			factor = 1.1
			is_country_type = default
			capital_scope = { has_building = building_institute }
		}
		modifier = {
			factor = 1.25
			any_relation = {
				OR = {
					has_defensive_pact = root
					is_in_federation_with = root
				}
				OR = {
					relative_power = {
						who = prev
						category = technology
						value = overwhelming
					}	
					relative_power = {
						who = prev
						category = technology
						value = superior
					}
				}
			}
		}
		modifier = {
			factor = 0.75
			is_country_type = default
			NOT = { has_global_flag = potent_rebellions_expanded_active }
			OR = {
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_materialist
			}
			any_neighbor_country = {
				is_rival = prev
				
				relative_power = {
					who = prev
					category = fleet
					value = overwhelming
				}
			}
		}		
		modifier = {
			factor = 1.25
			is_country_type = default
			OR = {
				has_ethic = ethic_materialist
				has_ethic = ethic_fanatic_materialist
			}
			NOR = {
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = overwhelming
					}
				}
				any_neighbor_country = {
					is_rival = prev
					
					relative_power = {
						who = prev
						category = fleet
						value = superior
					}
				}
			}
		}	
	}
	
	# from = planet
	pop_attraction = {
		value = 1
		modifier = {
			factor = 0.8
			from = {
				unrest > 30
				owner = { has_ethic = ethic_materialist }
			}
		}
		modifier = {
			factor = 0.7
			from = {
				unrest > 30
				owner = { has_ethic = ethic_fanatic_materialist }
			}
		}
		modifier = {
			factor = 0
			has_trait = trait_hive_mind
		}	
		modifier = {
			factor = 2.0
			is_robot_pop = yes
		}
		modifier = {
			factor = 1.5
			has_trait = "trait_cybernetic"
		}			
		modifier = {
			factor = 1.25
			is_robot_pop = no
			from = {
				any_owned_pop = {
					is_robot_pop = yes
				}
			}
		}		
		modifier = {
			factor = 1.2
			from = { has_planet_flag = cc_eventperf_developed_planet }
		}	
		modifier = {
			factor = 1.2
			from = { has_planet_flag = cc_eventperf_highly_developed_planet }
		}
		modifier = {
			factor = 1.5
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
				has_planet_flag = ccrebel_perf_materialists_1
			}
		}
		modifier = {
			factor = 1.35
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
				has_planet_flag = ccrebel_perf_materialists_2
			}
		}
		modifier = {
			factor = 1.25
			from = {
				owner = {
					NOR = {
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
				has_planet_flag = ccrebel_perf_materialists_3
			}
		}
		modifier = {
			factor = 1.25
			from.owner = {
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}
			}
			OR = {
				has_living_standard = { type = living_standard_utopian }
				has_living_standard = { type = living_standard_good }
			}
		}
		modifier = {
			factor = 1.25
			OR = {
				has_living_standard = { type = living_standard_utopian }
				has_living_standard = { type = living_standard_good }
			}
		}
		modifier = {
			factor = 1.1
			has_trait = "trait_natural_engineers"
		}
		modifier = {
			factor = 1.1
			has_trait = "trait_natural_sociologists"
		}
		modifier = {
			factor = 1.1
			has_trait = "trait_natural_physicists"
		}	
		modifier = {
			factor = 1.2
			has_trait = "trait_intelligent"
		}
		modifier = {
			factor = 1.3
			has_trait = "trait_erudite"
		}
		modifier = {
			factor = 1.1
			has_trait = "trait_robot_logic_engines"
		}
		modifier = {
			factor = 0.75
			has_modifier = pop_recently_conquered
			NOT = { has_ethic = ethic_materialist }
			from.owner = {
				OR = {
					has_ethic = ethic_materialist
					has_ethic = ethic_fanatic_materialist
				}
			}
		}
	}
}

ethic_gestalt_consciousness = {
	playable = {
		OR = {
			host_has_dlc = "Utopia"
			host_has_dlc = "Synthetic Dawn Story Pack"
		}
	}

	cost = 3
	category = "hive"
	category_value = 0
	use_for_pops = no
	
	country_modifier = {
		country_resource_influence_add = 1
		country_core_sector_system_cap = 2
	}
	
	tags = {
		ETHIC_GESTALT_CONSCIOUSNESS_NO_TUTORIAL
		ETHIC_GESTALT_CONSCIOUSNESS_AUTHORITY
		ETHIC_GESTALT_CONSCIOUSNESS_IMMORTAL_RULER
		ETHIC_GESTALT_CONSCIOUSNESS_NO_FACTIONS
		ETHIC_GESTALT_CONSCIOUSNESS_DOMESTIC_POP_SURVIVAL
		ETHIC_ALLOW_NO_RETREAT	
	}
	
	random_weight = {
		value = 100
		modifier = {
			factor = 0
			OR = {
				NOR = {
					host_has_dlc = "Utopia"
					host_has_dlc = "Synthetic Dawn Story Pack"
				}
				has_global_flag = game_started # additional traits (trait_hive_mind, trait_machine_unit) are only assigned and verified for empire designs, no effect after game start
			}
		}
		modifier = {
			factor = 2
			host_has_dlc = "Synthetic Dawn Story Pack"
			host_has_dlc = "Utopia"
			NOT = { has_global_flag = game_started }
		}
	}
}
